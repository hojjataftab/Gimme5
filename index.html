async function monitorBlockchain() {
            const interval = setInterval(async () => {
                try {
                    const res = await fetch(https://api.trongrid.io/v1/accounts/${myWallet}/transactions/trc20?limit=1&token_address=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t);
                    const data = await res.json();
                    
                    if (data.data && data.data.length > 0) {
                        const tx = data.data[0];
                        const amount = tx.value / 1000000;
                        const time = tx.block_timestamp;
                        
                        if (amount >= 5 && (Date.now() - time) < 600000) {
                            clearInterval(interval);
                            await sendToSheet(amount);
                            showSuccess();
                        }
                    }
                } catch (e) { console.log("Check error"); }
            }, 10000);
        }

        async function sendToSheet(amt) {
            const payload = {
                userId: tele.initDataUnsafe.user ? tele.initDataUnsafe.user.id : "Global_User",
                wallet: myWallet,
                amount: amt
            };
            try {
                await fetch(scriptURL, { method: 'POST', mode: 'no-cors', body: JSON.stringify(payload) });
            } catch (e) { }
        }

        function showSuccess() {
            document.getElementById('payment-page').classList.add('hidden');
            document.getElementById('success-page').classList.remove('hidden');
            tele.HapticFeedback.notificationOccurred('success');
        }
    </script>
</body>
</html>
